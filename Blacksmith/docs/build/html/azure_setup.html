

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Azure Setup &mdash; Blacksmith 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Azure CLI Installation" href="azure_cli_setup.html" />
    <link rel="prev" title="AWS EC2 Key Pairs" href="aws_ec2_keys.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Blacksmith
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="aws_setup.html">AWS Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Azure Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#azure-resource-manager">Azure Resource Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arm-templates">ARM Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#azure-free-account">Azure Free Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#azure-cli">Azure CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="azure_cli_setup.html">Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#p2s-vpn-certificate">P2S VPN Certificate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="azure_p2s_vpn_setup.html">Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#securing-resources">Securing Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="azure_secure_resources.html">Secure Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Available Projects:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mordor_labs.html">Mordor Labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="silketw.html">SilkETW</a></li>
<li class="toctree-l1"><a class="reference internal" href="attack_website.html">ATT&amp;CK Website</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure_sentinel2go.html">Azure Sentinel2Go</a></li>
</ul>
<p class="caption"><span class="caption-text">Licenses:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">GNU General Public License V3</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Blacksmith</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Azure Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/azure_setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="azure-setup">
<h1>Azure Setup<a class="headerlink" href="#azure-setup" title="Permalink to this headline">¶</a></h1>
<p>The Blacksmith project leverages Microsoft Azure to host and manage the infrastructure that is created through the ARM templates provided.
Also, it uses <a class="reference external" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/overview">Microsoft Azure Resource Manager (ARM)</a> templates to describe and provision all the infrastructure resources in Azure.</p>
<div class="section" id="azure-resource-manager">
<h2>Azure Resource Manager<a class="headerlink" href="#azure-resource-manager" title="Permalink to this headline">¶</a></h2>
<p>Azure Resource Manager is the deployment and management service for Azure.
It provides a management layer that enables you to create, update, and delete resources in your Azure subscription.
You use management features, like access control, locks, and tags, to secure and organize your resources after deployment.</p>
<a class="reference internal image-reference" href="_images/ARM-Overview.png"><img alt="ARM Overview" src="_images/ARM-Overview.png" style="width: 511.2px; height: 267.3px;" /></a>
</div>
<div class="section" id="arm-templates">
<h2>ARM Templates<a class="headerlink" href="#arm-templates" title="Permalink to this headline">¶</a></h2>
<p>To implement infrastructure as code for your Azure solutions, use Azure Resource Manager templates.
The template is a JavaScript Object Notation (JSON) file that defines the infrastructure and configuration for your project.
The template uses declarative syntax, which lets you state what you intend to deploy without having to write the sequence of programming commands to create it.
In the template, you specify the resources to deploy and the properties for those resources.</p>
<a class="reference internal image-reference" href="_images/ARM-One-Template.png"><img alt="ARM Overview" src="_images/ARM-One-Template.png" style="width: 406.8px; height: 187.20000000000002px;" /></a>
</div>
<div class="section" id="azure-free-account">
<h2>Azure Free Account<a class="headerlink" href="#azure-free-account" title="Permalink to this headline">¶</a></h2>
<p>The Azure free account includes free access to popular Azure products for 12 months, $200 USD credit to spend for the first 30 days, and access to more than 25 products that are always free.
This is an excellent way for new users to get started and explore.
To sign up, you need a phone number, a credit card, and a Microsoft or GitHub account.
Credit card information is used for identity verification only.
You won’t be charged for any services until you upgrade.</p>
<p>When your Free Tier expires, Azure starts charging the regular rates for any not “always-free” services and resources that you’re using.</p>
<p>To avoid charges while on the Free Tier, you must keep your usage below the <a class="reference external" href="https://azure.microsoft.com/en-us/free/#new-products">Free Tier limits</a>.
You are charged for any usage that exceeds the limits. To help you stay within the limits, you can track your Free Tier usage and set a billing alarm to notify you if you start incurring charges.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/free/#new-products">Available Azure 12 months free services</a></p></li>
</ul>
<p>Remember that you are charged <strong>ONLY</strong> for the services that you use.</p>
<p>The first step to using Azure is to sign up.
You may sign up directly through Azure.com, with the help of a Microsoft representative, or through a partner.
If you’re new to Azure, you may sign up for an Azure free account to start exploring with $200 USD free credit and free services.</p>
<ul class="simple">
<li><p>Learn about Azure Free Account: <a class="reference external" href="https://azure.microsoft.com/en-us/free/">https://azure.microsoft.com/en-us/free/</a></p></li>
<li><p>Follow these instructions to create an account: <a class="reference external" href="https://docs.microsoft.com/en-us/learn/modules/create-an-azure-account/">https://docs.microsoft.com/en-us/learn/modules/create-an-azure-account/</a>.</p></li>
</ul>
</div>
<div class="section" id="azure-cli">
<h2>Azure CLI<a class="headerlink" href="#azure-cli" title="Permalink to this headline">¶</a></h2>
<p>The Azure command-line interface (CLI) is Microsoft’s cross-platform command-line experience for managing Azure resources.
The Azure CLI is available to install in Windows, maxOS and Linux environments.
It can also be run in a Docker container and Azure Cloud Shell.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="azure_cli_setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#homebrew">Homebrew</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#configure-azure-login">Configure Azure Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#set-default-active-subscription">Set Default Active Subscription</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#set-default-location">Set Default Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#create-resource-group">Create Resource Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_cli_setup.html#references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="p2s-vpn-certificate">
<h2>P2S VPN Certificate<a class="headerlink" href="#p2s-vpn-certificate" title="Permalink to this headline">¶</a></h2>
<p>Almost every Azure environment developed under the Blacksmith’s initiative uses a Point-To-Site (P2S) VPN to secure every resource deployed, avoid direct communication from the outside, and enable client certificate authentication at a gateway level.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="azure_p2s_vpn_setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="azure_p2s_vpn_setup.html#azure-vpn-gateway">Azure VPN Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_p2s_vpn_setup.html#azure-vpn-gateway-subnet">Azure VPN Gateway Subnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_p2s_vpn_setup.html#p2s-vpn-certificates">P2S VPN Certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_p2s_vpn_setup.html#openvpn-client-setup">OpenVPN Client Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_p2s_vpn_setup.html#references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="securing-resources">
<h2>Securing Resources<a class="headerlink" href="#securing-resources" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="azure_secure_resources.html">Secure Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#what-is-an-azure-blog-storage">What is an Azure Blog Storage?</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#what-are-azure-storage-accounts">What are Azure Storage Accounts?</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#what-are-azure-private-containers">What are Azure Private Containers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#what-is-an-account-sas">What is an Account SAS?</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#deploying-an-azure-account-storage-and-a-private-container">Deploying an Azure Account Storage and a Private container</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#uploading-resources-to-private-container">Uploading Resources to Private Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#calling-private-resources-from-arm-templates">Calling Private Resources from ARM Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure_secure_resources.html#references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview">https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview</a></p></li>
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/overview">https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/overview</a></p></li>
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/free/">https://azure.microsoft.com/en-us/free/</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="azure_cli_setup.html" class="btn btn-neutral float-right" title="Azure CLI Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="aws_ec2_keys.html" class="btn btn-neutral float-left" title="AWS EC2 Key Pairs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Roberto Rodriguez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>